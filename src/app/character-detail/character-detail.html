<div class="detail-container">
  <!-- Loading State -->
  <div *ngIf="loading" class="loading-wrapper">
    <div class="spinner"></div>
    <p class="loading-text">Cargando información del guerrero...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="error-wrapper">
    <div class="error-icon">
      <svg
        width="48"
        height="48"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
      >
        <path d="M12 9v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
    </div>
    <p class="error-text">{{ error }}</p>
    <button class="back-button-error" (click)="goBack()">
      <svg
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
      >
        <path d="M19 12H5M12 19l-7-7 7-7" />
      </svg>
      Volver al inicio
    </button>
  </div>

  <!-- Character Detail -->
  <div *ngIf="character" class="detail-content">
    <!-- Back Button Floating -->
    <button class="back-button-floating" (click)="goBack()">
      <svg
        class="back-icon"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
      >
        <path d="M19 12H5M12 19l-7-7 7-7" />
      </svg>
      <span class="back-text">Volver</span>
    </button>

    <!-- Hero Section -->
    <div class="hero-section">
      <div class="hero-background"></div>
      <div class="hero-content">
        <div class="character-image-wrapper">
          <div class="image-glow"></div>
          <img [src]="character.image" [alt]="character.name" class="character-image" />
        </div>
        <div class="character-header-info">
          <h1 class="character-title">{{ character.name }}</h1>
          <div class="badges-row">
            <span class="badge badge-race">
              <svg
                class="badge-icon"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"
                />
              </svg>
              {{ character.race }}
            </span>
            <span class="badge badge-gender">
              <svg
                *ngIf="character.gender === 'Male'"
                class="badge-icon"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M9 9c0-1.7 1.3-3 3-3s3 1.3 3 3c0 1.7-1.3 3-3 3s-3-1.3-3-3zm12-5v5h-2V7h-2.59L14 9.41V13h-1v3h-2v-3h-1V9.41L7.59 7H5v2H3V4h5v2h1.59L12 8.41 14.41 6H16V4h5z"
                />
              </svg>
              <svg
                *ngIf="character.gender !== 'Male'"
                class="badge-icon"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M17.5 9.5C17.5 6.46 15.04 4 12 4S6.5 6.46 6.5 9.5c0 2.7 1.94 4.93 4.5 5.4V17H9v2h2v2h2v-2h2v-2h-2v-2.1c2.56-.47 4.5-2.7 4.5-5.4z"
                />
              </svg>
              {{ character.gender }}
            </span>
            <span class="badge badge-affiliation">
              <svg
                class="badge-icon"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                />
              </svg>
              {{ character.affiliation }}
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content Card -->
    <div class="main-card">
      <!-- Description Section -->
      <section class="section description-section">
        <div class="section-header">
          <h2 class="section-title">
            <svg
              class="title-icon"
              width="32"
              height="32"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M4 19.5A2.5 2.5 0 016.5 17H20M4 19.5A2.5 2.5 0 016.5 22H20M4 19.5v-15A2.5 2.5 0 016.5 2H14l6 6v9M14 2v6h6"
              />
            </svg>
            Historia y Descripción
          </h2>
        </div>
        <div class="description-content">
          <p class="description-text">{{ character.description }}</p>
        </div>
      </section>

      <!-- Stats Section -->
      <section class="section stats-section">
        <div class="section-header">
          <h2 class="section-title">
            <svg
              class="title-icon"
              width="32"
              height="32"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
            Nivel de Poder
          </h2>
        </div>
        <div class="stats-grid">
          <div class="stat-card stat-ki">
            <div class="stat-icon-wrapper">
              <svg class="stat-icon" width="36" height="36" viewBox="0 0 24 24" fill="currentColor">
                <path d="M13 2L3 14h8l-1 8 10-12h-8l1-8z" />
              </svg>
            </div>
            <div class="stat-info">
              <span class="stat-label">Ki Base</span>
              <span class="stat-value">{{ character.ki }}</span>
            </div>
          </div>
          <div class="stat-card stat-maxki">
            <div class="stat-icon-wrapper">
              <svg class="stat-icon" width="36" height="36" viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"
                />
              </svg>
            </div>
            <div class="stat-info">
              <span class="stat-label">Ki Máximo</span>
              <span class="stat-value">{{ character.maxKi }}</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Additional Info -->
      <section class="section info-grid">
        <div class="info-item">
          <svg class="info-icon" width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"
            />
          </svg>
          <div class="info-content">
            <span class="info-label">Raza</span>
            <span class="info-value">{{ character.race }}</span>
          </div>
        </div>
        <div class="info-item">
          <svg class="info-icon" width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
            />
          </svg>
          <div class="info-content">
            <span class="info-label">Género</span>
            <span class="info-value">{{ character.gender }}</span>
          </div>
        </div>
        <div class="info-item">
          <svg class="info-icon" width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
            <path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z" />
          </svg>
          <div class="info-content">
            <span class="info-label">Afiliación</span>
            <span class="info-value">{{ character.affiliation }}</span>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>
